(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("react");var s=e.n(t);const a=require("react-dom/client");var n=e.n(a);const c=require("openai");var r=e.n(c);require("dotenv/config");const o={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_KEY||"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",l=new(r())({apiKey:o,dangerouslyAllowBrowser:!0}),i=async()=>{if(!o)return[{}];let e=[];try{e=(e=>{let t=[];try{t=JSON.parse(e),console.log(t)}catch(s){console.log("GPT DID NOT RESPONSE CORRECTLY")}return t})((await l.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a Human Interaction clone"},{role:"user",content:"Create a list of 16 chat interactions these chat interactions should appear as if they are messages coming in from people watching a twitch stream online the topic of this twitch stream is a tech related stream.do not include any explanations, only provide a JSON response in the following format with no deviations:[{ username: string, chatMessage: string }]"}]})).choices[0].message.content)}catch(t){console.log(t),console.log("Unable to get response from GPT")}return e};const d=function(e,s){const a=(0,t.useRef)();(0,t.useEffect)((()=>{a.current=e}),[e]),(0,t.useEffect)((()=>{if(null!==s){let e=setInterval((function(){a.current()}),s);return()=>clearInterval(e)}}),[s])},h=require("@heroicons/react/24/solid"),u=require("react/jsx-runtime"),m=e=>(0,u.jsxs)("div",{className:"text-sm text-white border-red-500 bg-red-300/35 flex flex-row rounded-md",children:[e.bugAnt?(0,u.jsx)(h.BugAntIcon,{className:"h-3 w-3 text-red-400"}):null,e.checkBadge?(0,u.jsx)(h.CheckBadgeIcon,{className:"h-3 w-3 text-blue-400"}):null,(0,u.jsxs)("span",{className:"font-bold",children:[e.username,": "]}),e.chatMessage]},e.key),x=e=>(0,u.jsxs)("div",{className:"text-sm text-white flex flex-row",children:[e.bugAnt?(0,u.jsx)(h.BugAntIcon,{className:"h-3 w-3 text-red-400"}):null,e.checkBadge?(0,u.jsx)(h.CheckBadgeIcon,{className:"h-3 w-3 text-blue-400"}):null,(0,u.jsx)("span",{className:"font-extrabold text-red-300",children:" FIRST TIME USER "}),(0,u.jsxs)("span",{className:"font-bold",children:[" ",e.username,": "]}),e.chatMessage]},e.key),g=e=>{const[s,a]=(0,t.useState)(!1),[n,c]=(0,t.useState)(!1),[r,o]=(0,t.useState)(!1),[l,i]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{a(Math.random()>.8),c(Math.random()>.6),o(Math.random()>.4),i(Math.random()>.8)}),[]),(0,u.jsxs)("div",{className:"mt-2",children:[s?(0,u.jsx)(m,{chatMessage:e.chatMessage.chatMessage,username:e.chatMessage.username,bugAnt:n,checkBadge:r},e.key):null,l?(0,u.jsx)(x,{chatMessage:e.chatMessage.chatMessage,username:e.chatMessage.username,bugAnt:n,checkBadge:r},e.key):null,s||l?null:(0,u.jsxs)("div",{className:"text-sm text-white flex flex-row",children:[n?(0,u.jsx)(h.BugAntIcon,{className:"h-3 w-3 text-red-400"}):null,r?(0,u.jsx)(h.CheckBadgeIcon,{className:"h-3 w-3 text-blue-400"}):null,(0,u.jsxs)("span",{className:"font-bold",children:[e.chatMessage.username,": "]}),e.chatMessage.chatMessage]},e.key)]})};const f=function(){let e=5e3*Math.random();const[s,a]=(0,t.useState)([]),[n,c]=(0,t.useState)([]);return d((()=>{s.length>0&&(c((e=>e.concat(s[0]))),console.log(s),a((e=>(e.shift(),e)))),e=1e4*Math.random()}),e),d((async()=>{const e=await i();a((t=>[...t,...e]))}),1e4),(0,u.jsx)("div",{className:"text-white mt-5 mb-5 p-2",children:n.map(((e,t)=>(0,u.jsx)(g,{chatMessage:e},t)))})};const w=function(){return(0,u.jsxs)("div",{className:"flex flex-col bg-black h-screen w-screen",children:[(0,u.jsx)("div",{className:"font-extrabold text-white text-3xl text-center align-middle",children:"Stream Chat"}),(0,u.jsx)("div",{className:"flex flex-col-reverse overflow-hidden",children:(0,u.jsx)(f,{})})]})};n().createRoot(document.getElementById("root")).render((0,u.jsx)(s().StrictMode,{children:(0,u.jsx)(w,{})}))})();
//# sourceMappingURL=main.4c4cb79f.js.map